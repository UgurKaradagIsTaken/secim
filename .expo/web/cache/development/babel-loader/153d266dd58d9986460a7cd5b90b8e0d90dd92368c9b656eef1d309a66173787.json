{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/yavuzceliker/Desktop/projects/yavuz/react/qr4car/mobile/app/root.js\",\n  _this = this;\nimport React, { useEffect, useState } from \"react\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { useGetApi, useI18n } from \"./infrastructure/api-calls/api-call\";\nimport general from \"./utils/general\";\nimport Navigation from \"./navigation\";\nimport AppRoutes from \"./utils/app-routes\";\nimport AlertRenderer from \"./components/alert-renderer/alertRenderer\";\nimport i18next from \"i18next\";\nimport useRefState from \"./utils/hooks/use-ref-state\";\nimport FullScreenLoading from \"./components/loading/full-screen-loading\";\nimport { onlineManager } from \"react-query\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar Root = function Root() {\n  var _useRefState = useRefState(\"en\"),\n    _useRefState2 = _slicedToArray(_useRefState, 3),\n    currentLanguage = _useRefState2[0],\n    currentLanguageRef = _useRefState2[1],\n    setCurrentLanguage = _useRefState2[2];\n  var fetchUserInfo = useGetApi({\n    controller: \"user\",\n    action: \"userInfo\",\n    enabled: false\n  });\n  var _useI18n = useI18n(currentLanguage),\n    translates = _useI18n.data,\n    translatesLoading = _useI18n.isLoading,\n    translateError = _useI18n.isError,\n    translateIsFetched = _useI18n.isFetched;\n  useEffect(function () {\n    if (translateIsFetched && translates && !translateError) {\n      i18next.init({\n        compatibilityJSON: 'v3',\n        lng: currentLanguageRef.current,\n        resources: _defineProperty({}, currentLanguageRef.current, {\n          translation: translates\n        })\n      });\n    }\n  }, [translates, translateIsFetched, translateError]);\n  useEffect(function () {\n    if (translateIsFetched && translates && !translateError) _asyncToGenerator(function* () {\n      var result = yield userInfoResult.refetch();\n    })();\n  }, [translateError, translateIsFetched]);\n  useEffect(function () {\n    setTimeout(function () {\n      onlineManager.setOnline(\"asdasd\");\n    }, 5000);\n  }, []);\n  return _jsxDEV(_Fragment, {\n    children: [_jsxDEV(StatusBar, {\n      hidden: false,\n      backgroundColor: \"#fff\",\n      barStyle: \"dark-content\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, _this), _jsxDEV(Navigation, {\n      initialRoute: AppRoutes.Auth.initialRoute\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, _this), _jsxDEV(AlertRenderer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, _this), _jsxDEV(FullScreenLoading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, _this)]\n  }, void 0, true);\n};\nexport default Root;","map":{"version":3,"names":["React","useEffect","useState","StatusBar","Text","View","useGetApi","useI18n","general","Navigation","AppRoutes","AlertRenderer","i18next","useRefState","FullScreenLoading","onlineManager","jsxDEV","_jsxDEV","Fragment","_Fragment","Root","_useRefState","_useRefState2","_slicedToArray","currentLanguage","currentLanguageRef","setCurrentLanguage","fetchUserInfo","controller","action","enabled","_useI18n","translates","data","translatesLoading","isLoading","translateError","isError","translateIsFetched","isFetched","init","compatibilityJSON","lng","current","resources","_defineProperty","translation","_asyncToGenerator","result","userInfoResult","refetch","setTimeout","setOnline","children","hidden","backgroundColor","barStyle","fileName","_jsxFileName","lineNumber","columnNumber","_this","initialRoute","Auth"],"sources":["/Users/yavuzceliker/Desktop/projects/yavuz/react/qr4car/mobile/app/root.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { StatusBar, Text, View } from \"react-native\"\nimport { useGetApi, useI18n } from \"./infrastructure/api-calls/api-call\"\nimport general from \"./utils/general\";\nimport Navigation from \"./navigation\";\nimport AppRoutes from \"./utils/app-routes\";\nimport AlertRenderer from \"./components/alert-renderer/alertRenderer\";\nimport i18next from \"i18next\";\nimport useRefState from \"./utils/hooks/use-ref-state\";\nimport FullScreenLoading from \"./components/loading/full-screen-loading\";\nimport { onlineManager } from \"react-query\";\n\nconst Root = () => {\n    const [currentLanguage, currentLanguageRef, setCurrentLanguage] = useRefState(\"en\")\n    const fetchUserInfo = useGetApi({ controller: \"user\", action: \"userInfo\", enabled: false })\n    const { data: translates, isLoading: translatesLoading, isError: translateError, isFetched: translateIsFetched } = useI18n(currentLanguage);\n\n    useEffect(() => {\n        if (translateIsFetched && translates && !translateError) {\n            i18next.init({\n                compatibilityJSON: 'v3',\n                lng: currentLanguageRef.current,\n                resources: {\n                    [currentLanguageRef.current]: {\n                        translation: translates\n                    }\n                }\n            });\n        }\n    }, [translates, translateIsFetched, translateError])\n\n    useEffect(() => {\n        if (translateIsFetched && translates && !translateError)\n            (async () => {\n                var result = await userInfoResult.refetch();\n            })();\n    }, [translateError, translateIsFetched])\n\n    useEffect(() => {\n        setTimeout(() => {\n            onlineManager.setOnline(\"asdasd\");\n        }, 5000);\n    }, [])\n\n    return (\n        <>\n            <StatusBar\n                hidden={false}\n                backgroundColor=\"#fff\"\n                barStyle=\"dark-content\"\n            />\n            <Navigation initialRoute={AppRoutes.Auth.initialRoute} />\n            <AlertRenderer />\n            <FullScreenLoading />\n        </>\n    )\n}\n\nexport default Root"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}