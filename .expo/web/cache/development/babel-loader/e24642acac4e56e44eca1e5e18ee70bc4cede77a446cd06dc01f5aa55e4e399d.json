{"ast":null,"code":"import { put, takeEvery } from \"redux-saga/effects\";\nimport { ActionTypes, Actions } from \"./reducers\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nfunction logIn(_ref) {\n  var payload = _ref.payload;\n  return function* () {\n    try {\n      yield put(Actions.setAuthState(payload));\n      AsyncStorage.setItem(\"token\", payload.token);\n      global.userInfo = payload;\n    } catch (error) {\n      logOut();\n    }\n  }();\n}\nfunction* logOut() {\n  yield put(Actions.setAuthState(null));\n  AsyncStorage.removeItem(\"token\");\n  global.userInfo = null;\n}\nexport default [takeEvery(ActionTypes.LOG_IN, logIn), takeEvery(ActionTypes.LOG_OUT, logOut)];","map":{"version":3,"names":["put","takeEvery","ActionTypes","Actions","AsyncStorage","logIn","_ref","payload","setAuthState","setItem","token","global","userInfo","error","logOut","removeItem","LOG_IN","LOG_OUT"],"sources":["/Users/yavuzceliker/Desktop/projects/yavuz/react/qr4car/mobile/app/infrastructure/redux/auth/sagas.js"],"sourcesContent":["import { put, takeEvery } from \"redux-saga/effects\";\nimport { ActionTypes, Actions } from \"./reducers\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\n\n\nfunction* logIn({ payload }) {\n    try {\n        yield put(Actions.setAuthState(payload));\n        AsyncStorage.setItem(\"token\", payload.token);\n        global.userInfo = payload;\n    } catch (error) {\n        logOut();\n    }\n}\n\nfunction* logOut() {\n    yield put(Actions.setAuthState(null));\n    AsyncStorage.removeItem(\"token\");\n    global.userInfo = null;\n}\n\n\n\n\nexport default [\n    takeEvery(ActionTypes.LOG_IN, logIn),\n    takeEvery(ActionTypes.LOG_OUT, logOut),\n];\n"],"mappings":"AAAA,SAASA,GAAG,EAAEC,SAAS,QAAQ,oBAAoB;AACnD,SAASC,WAAW,EAAEC,OAAO,QAAQ,YAAY;AACjD,OAAOC,YAAY,MAAM,2CAA2C;AAGpE,SAAUC,KAAKA,CAAAC,IAAA;EAAA,IAAGC,OAAO,GAAAD,IAAA,CAAPC,OAAO;EAAA,oBAAI;IACzB,IAAI;MACA,MAAMP,GAAG,CAACG,OAAO,CAACK,YAAY,CAACD,OAAO,CAAC,CAAC;MACxCH,YAAY,CAACK,OAAO,CAAC,OAAO,EAAEF,OAAO,CAACG,KAAK,CAAC;MAC5CC,MAAM,CAACC,QAAQ,GAAGL,OAAO;IAC7B,CAAC,CAAC,OAAOM,KAAK,EAAE;MACZC,MAAM,CAAC,CAAC;IACZ;EACJ,CAAC;AAAA;AAED,UAAUA,MAAMA,CAAA,EAAG;EACf,MAAMd,GAAG,CAACG,OAAO,CAACK,YAAY,CAAC,IAAI,CAAC,CAAC;EACrCJ,YAAY,CAACW,UAAU,CAAC,OAAO,CAAC;EAChCJ,MAAM,CAACC,QAAQ,GAAG,IAAI;AAC1B;AAKA,eAAe,CACXX,SAAS,CAACC,WAAW,CAACc,MAAM,EAAEX,KAAK,CAAC,EACpCJ,SAAS,CAACC,WAAW,CAACe,OAAO,EAAEH,MAAM,CAAC,CACzC"},"metadata":{},"sourceType":"module","externalDependencies":[]}