{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/yavuzceliker/Desktop/projects/yavuz/react/qr4car/mobile/app/pages/home/index.js\",\n  _this = this;\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport style from \"../../design/style\";\nimport CustomInput from \"../../components/input\";\nimport useRefState from \"../../utils/hooks/use-ref-state\";\nimport navigationService from \"../../navigation/navigation-service\";\nimport AppRoutes from \"../../utils/app-routes\";\nimport { useMemo } from \"react\";\nimport CustomButton from \"../../components/button\";\nimport theme from \"../../design/theme\";\nimport useCommandBusListener from \"../../infrastructure/command-bus/hooks/use-command-bus-listener\";\nimport { CommandTypeEnum } from \"../../infrastructure/command-bus/command-type-enum\";\nimport general from \"../../utils/general\";\nimport CustomText from \"../../components/text\";\nimport LayoutView from \"../../components/layout-view\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _defaultFilterProps = {\n  showNotAdopted: true\n};\nvar Home = function Home(_ref) {\n  var _global, _global$userInfo;\n  var navigation = _ref.navigation;\n  var _useRefState = useRefState({\n      petList: []\n    }),\n    _useRefState2 = _slicedToArray(_useRefState, 3),\n    formProps = _useRefState2[0],\n    formPropsRef = _useRefState2[1],\n    setFormProps = _useRefState2[2];\n  var _useRefState3 = useRefState(_defaultFilterProps),\n    _useRefState4 = _slicedToArray(_useRefState3, 3),\n    filterProps = _useRefState4[0],\n    filterPropsRef = _useRefState4[1],\n    setFilterProps = _useRefState4[2];\n  var updateFormProps = function updateFormProps(values) {\n    return setFormProps(function (curr) {\n      return _objectSpread(_objectSpread({}, curr), values);\n    });\n  };\n  var updateFilterProps = function updateFilterProps(values) {\n    return setFilterProps(function (curr) {\n      return _objectSpread(_objectSpread({}, curr), values);\n    });\n  };\n  var onChange = function onChange(key) {\n    return function (value) {\n      return updateFilterProps(_defineProperty({}, key, value));\n    };\n  };\n  var onChangePetType = function onChangePetType(petType) {\n    return function () {\n      return updateFilterProps({\n        petType: petType\n      });\n    };\n  };\n  var onRefresh = function onRefresh() {\n    return updateFilterProps({\n      updateFilter: Date.now()\n    });\n  };\n  var pushToFilter = function pushToFilter() {\n    return navigationService.push(AppRoutes.SharedScreens.Filter.name, {\n      currentFilter: filterPropsRef.current,\n      saveFilter: function saveFilter(values) {\n        updateFilterProps(values);\n      },\n      clearFilter: function clearFilter() {\n        setFilterProps(_defaultFilterProps);\n      }\n    });\n  };\n  var searchRightAction = useMemo(function () {\n    return _jsxDEV(CustomButton, {\n      onPress: pushToFilter,\n      icon: 'filter',\n      marginBottom: 0,\n      backgroundColor: \"transparent\",\n      color: theme.colors.primary,\n      flex: 0\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, _this);\n  }, []);\n  useCommandBusListener(CommandTypeEnum.RefreshPetList, onRefresh);\n  return _jsxDEV(LayoutView, {\n    showHeader: !general.isNullOrEmpty((_global = global) == null ? void 0 : (_global$userInfo = _global.userInfo) == null ? void 0 : _global$userInfo.id),\n    children: _jsxDEV(View, {\n      style: style.container,\n      children: _jsxDEV(CustomInput, {\n        icon: 'search',\n        label: \"Sahiplenmek i\\xE7in arama yap\\u0131n\",\n        rightAction: searchRightAction,\n        onChange: onChange('searchText'),\n        value: filterProps.searchText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, _this);\n};\nexport default Home;","map":{"version":3,"names":["style","CustomInput","useRefState","navigationService","AppRoutes","useMemo","CustomButton","theme","useCommandBusListener","CommandTypeEnum","general","CustomText","LayoutView","jsxDEV","_jsxDEV","_defaultFilterProps","showNotAdopted","Home","_ref","_global","_global$userInfo","navigation","_useRefState","petList","_useRefState2","_slicedToArray","formProps","formPropsRef","setFormProps","_useRefState3","_useRefState4","filterProps","filterPropsRef","setFilterProps","updateFormProps","values","curr","_objectSpread","updateFilterProps","onChange","key","value","_defineProperty","onChangePetType","petType","onRefresh","updateFilter","Date","now","pushToFilter","push","SharedScreens","Filter","name","currentFilter","current","saveFilter","clearFilter","searchRightAction","onPress","icon","marginBottom","backgroundColor","color","colors","primary","flex","fileName","_jsxFileName","lineNumber","columnNumber","_this","RefreshPetList","showHeader","isNullOrEmpty","global","userInfo","id","children","View","container","label","rightAction","searchText"],"sources":["/Users/yavuzceliker/Desktop/projects/yavuz/react/qr4car/mobile/app/pages/home/index.js"],"sourcesContent":["import { View, FlatList, RefreshControl } from \"react-native\"\nimport style from \"../../design/style\";\nimport CustomInput from \"../../components/input\";\nimport useRefState from \"../../utils/hooks/use-ref-state\";\nimport navigationService from \"../../navigation/navigation-service\";\nimport AppRoutes from \"../../utils/app-routes\";\nimport { useMemo } from \"react\";\nimport CustomButton from \"../../components/button\";\nimport theme from \"../../design/theme\";\n// import PetListItem from \"../../components/pet-list-item\";\nimport useCommandBusListener from \"../../infrastructure/command-bus/hooks/use-command-bus-listener\";\nimport { CommandTypeEnum } from \"../../infrastructure/command-bus/command-type-enum\";\nimport general from \"../../utils/general\";\nimport CustomText from \"../../components/text\";\nimport LayoutView from \"../../components/layout-view\";\n\nconst _defaultFilterProps = {\n    showNotAdopted: true,\n};\n\nconst Home = ({ navigation }) => {\n    const [formProps, formPropsRef, setFormProps] = useRefState({\n        petList: [],\n    });\n    const [filterProps, filterPropsRef, setFilterProps] = useRefState(_defaultFilterProps);\n    const updateFormProps = (values) => setFormProps(curr => ({ ...curr, ...values }));\n    const updateFilterProps = (values) => setFilterProps(curr => ({ ...curr, ...values }));\n\n    const onChange = (key) => (value) => updateFilterProps({ [key]: value });\n    const onChangePetType = (petType) => () => updateFilterProps({ petType });\n\n    const onRefresh = () => updateFilterProps({ updateFilter: Date.now() });\n\n    const pushToFilter = () => navigationService.push(AppRoutes.SharedScreens.Filter.name, {\n        currentFilter: filterPropsRef.current,\n        saveFilter: (values) => {\n            updateFilterProps(values);\n        },\n        clearFilter: () => {\n            setFilterProps(_defaultFilterProps);\n        }\n    });\n\n    const searchRightAction = useMemo(() =>\n        <CustomButton\n            onPress={pushToFilter}\n            icon={'filter'}\n            marginBottom={0}\n            backgroundColor=\"transparent\"\n            color={theme.colors.primary}\n            flex={0}\n        />\n        , []);\n\n    useCommandBusListener(CommandTypeEnum.RefreshPetList, onRefresh);\n\n    return (\n        <LayoutView\n            showHeader={!general.isNullOrEmpty(global?.userInfo?.id)}\n        >\n            <View style={style.container}>\n                <CustomInput\n                    icon={'search'}\n                    label=\"Sahiplenmek için arama yapın\"\n                    rightAction={searchRightAction}\n                    onChange={onChange('searchText')}\n                    value={filterProps.searchText}\n                />\n\n               \n\n                {/* <FlatList\n                    refreshControl={<RefreshControl refreshing={formProps.loading} onRefresh={onRefresh} />}\n                    data={formProps.petList}\n                    renderItem={PetListItem}\n                    keyExtractor={item => item.id}\n                /> */}\n            </View>\n        </LayoutView>\n    );\n}\n\nexport default Home;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}